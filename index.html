<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <script src='js/utils.js' charset='utf-8'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/d3/4.12.2/d3.js' charset='utf-8'></script>
  <script src="https://unpkg.com/vue"></script>
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
  <link rel="stylesheet" href="js/aos-master/dist/aos.css" />
  <script src="js/aos-master/dist/aos.js"></script>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/intro-sect.css" />
  <link rel="stylesheet" href="css/category-box.css" />
  <link rel="stylesheet" href="css/tooltip.css" />
  <link rel="stylesheet" href="css/description-sect.css" />
  <link rel="stylesheet" href="css/question.css" />
  <link rel="stylesheet" href="css/minimap.css" />
</head>

<body>
  <script>
    AOS.init({
      duration: 300,
      easing: 'ease-in-cubic',
    });
  </script>
  <div id="vis">
    <svg :width="MINIMAP_WIDTH" :height="windowHeight" id="minimap" pointer-events="all" v-bind:class="{show: showCategoryBoxes}">
    </svg>
    <svg :width="WIDTH" :height="HEIGHT" id="container" pointer-events="all">
    </svg>
    <!--<div class="milestone-sect section">
      <div class="outside"></div>
    </div>-->
    <div class="question-sect">
      <div class="inner-question outside">
        <div class="question-info">
          <h3 class="title"></h3>
          <div class="description"></div>
        </div>
        <div class="svg-quest-container">
          <svg :width="QWIDTH" :height="QHEIGHT" id="question_container" pointer-events="all"></svg>
        </div>
        <h3>selecciona una pregunta</h3>
      </div>
    </div>
    <div class="description-sect section" data-aos="costume" data-aos-anchor="#trigger2">
      <div class="description-text outside">
        <!--<img id="question-symbol" src="resources/pregunta_simbolo.svg">-->
        <h3>PREGUNTAS EN LAS FRONTERAS</h3>
        <p>Los investigadores definieron preguntas o incertidumbres que están en la frontera de sus líneas de investigaciones
          actuales.
        </p>
        <p class="highlight">¿Cuáles son esas grandes preguntas?</p>
      </div>
    </div>
    <div id="trigger2" class="spacer s0"></div>
    <div id="particles-js" class="intro-sect section" data-aos="costume" data-aos-anchor="#trigger1">
      <div class="intro-text outside">
        <p>El
          <mark>Consejo Nacional de Innovación para el Desarrollo (CNID)</mark> está mandatado a generar orientaciones en materia
          de ciencias, tecnologías e innovación para alcanzar un desarrollo sostenible e inclusivo, apuntando a horizontes
          amplios, globales y de largo plazo. Hacernos cargo de la forma de
          <mark>anticipar</mark> es fundamental para lograr este cometido, puesto que requerimos un ejercicio riguroso, permanente
          y sistemático que nos permita identificar tendencias y fenómenos de cambio. De esta manera podremos mejorar nuestra
          comprensión y/o capacidades de diseño para
          <mark>abrir posibilidades</mark> a Chile con la contribución de las ciencias, tecnologías e innovación.</p>
        <p>En esta línea, el CNID organizó, en colaboración con Milenio y la Comisión Nacional de Investigación Científica y
          Tecnológica (CONICYT), un encuentro llamado
          <mark>
            <em>“Anticipación de horizontes para Chile: Explorando Áreas Emergentes en Ciencias y Humanidades”</em>
          </mark> en cuya ocasión se buscó detectar preguntas vigentes en las fronteras del saber en ciencias y humanidades.</p>
        <p>Los datos visualizados, son el resultado de un primer ejercicio realizado en el marco del encuentro.</p>
      </div>
    </div>
    <div id="trigger1" class="spacer s0"></div>
    <div class="first-sect section">
      <div class="first-sect outside">
        <div>
          <title-particle :width="WIDTH"></title-particle>
        </div>
        <div class="separator"></div>
        <h2>EXPLORANDO ÁREAS EMERGENTES EN CIENCIA Y HUMANIDAD</h2>
        <div class="spacer s2"></div>
      </div>
    </div>

    <div class="tooltip" v-bind:class="{ large: tooltipLarge, appear: tooltipped }">
      <div class="title" v-if="tooltipped" v-on:click="toggleToolTip">
        <span>
          {{tooltipped.name}}
        </span>
      </div>
      <transition-group name="fade-tool">
        <div class="separator-tip" v-if="tooltipLarge" key="separator"></div>
        <div class="description" v-if="tooltipLarge" key="description">
          LOREM
        </div>
        <div class="tags-container" v-if="tooltipped && tooltipLarge" key="tags">
          <template v-for="tag in tooltipped.tags">
            <div class="div-tag">
              <span class="tag" v-if="tags[tag]" v-on:click="addFilterTag(tag)" v-bind:class="{ active: checkedFilters.indexOf(tag) >= 0}">
                {{tags[tag].nombre}}
              </span>
            </div>
          </template>
        </div>
      </transition-group>

    </div>
    <div class="category_box dimension_box" v-bind:class="{show: showCategoryBoxes, collapsed: showChallenge}">
      <h1 v-on:click="toggleChallenge()">DESAFÍOS</h1>
      <transition name="fade">
        <div class="container" v-if="showChallenge">
          <div class="check" v-for="dimension in dimensions">
            <input type="checkbox" :id="dimension.id" :value="dimension.id" v-model="checkedFilters">
            <label :for="dimension.id">{{dimension.nombre}}</label>
            <div class="collapse" v-on:click="collapse(dimension.id)" v-if="dimension.subdimension.length > 0" v-bind:class="{collapsed: collapsedFilters.indexOf(dimension.id) < 0, uncollapsed: collapsedFilters.indexOf(dimension.id) >= 0}"></div>

            <transition-group name="fade">
              <div class="check" v-for="subdimension in dimension.subdimension" :key="subdimension.id" v-if="collapsedFilters.indexOf(dimension.id) >= 0">
                <input type="checkbox" :id="subdimension.id" :value="subdimension.id" v-model="checkedFilters">
                <label class="sub" :for="subdimension.id">
                  {{subdimension.nombre}}
                </label>
                <br>
              </div>
            </transition-group>
          </div>
        </div>
      </transition>
    </div>
    <div class="category_box discipline_box" v-bind:class="{show: showCategoryBoxes, collapsed: showDiscipline}">
      <h1 v-on:click="toggleDiscipline()">DISCIPLINAS</h1>
      <transition name="fade">
        <div class="container" v-if="showDiscipline">
          <div class="check" v-for="dimension in disciplines">
            <input type="checkbox" :id="dimension.id" :value="dimension.id" v-model="checkedFilters">
            <label :for="dimension.id">{{dimension.nombre}}</label>
            <div class="collapse" v-on:click="collapse(dimension.id)" v-if="dimension.subdisciplinas.length > 0" v-bind:class="{collapsed: collapsedFilters.indexOf(dimension.id) < 0, uncollapsed: collapsedFilters.indexOf(dimension.id) >= 0}"></div>
            <br>
            <transition-group name="fade">
              <div class="check" v-for="subdimension in dimension.subdisciplinas" :key="subdimension.id" v-if="collapsedFilters.indexOf(dimension.id) >= 0">
                <input type="checkbox" :id="subdimension.id" :value="subdimension.id" v-model="checkedFilters">
                <label class="sub" :for="subdimension.id">
                  {{subdimension.nombre}}
                </label>
                <br>
              </div>
            </transition-group>
          </div>
        </div>
      </transition>
    </div>
  </div>
  <!-- <script src="js/particle-script.js"></script> -->
  <script src="js/title-component.js"></script>
  <script src="js/script.js"></script>
</body>

</html>